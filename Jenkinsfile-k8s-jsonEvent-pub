pipeline {
    agent {
        kubernetes {
            label 'pub'
            yaml """
apiVersion: v1
kind: Pod
spec:
  containers:
  - name: jnlp
    image: jenkins/jnlp-slave:3.36-1-alpine
    command:
    - cat
    tty: true
  nodeSelector:
    partition: regular-agents
  tolerations:
    - key: partition
      operator: Equal
      value: regular-agents
      effect: NoSchedule
"""
        }
  }
    stages {
        stage('Example') {
            steps {
                echo 'sending helloWorld1'
                publishEvent(event:jsonEvent('{"event":"helloWorld","firstName":"Darin","lastName":"Pope"}'),verbose: true)
            }
        }
    }
}
